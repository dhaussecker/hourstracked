<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleet Equipment Overview</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: linear-gradient(135deg, #1e3a5f 0%, #2c4a6b 100%); 
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2c4a6b 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .company-logo {
            height: 90px;
            width: auto;
            filter: brightness(1.1);
        }

        .header-text {
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(196, 216, 45, 0.3);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-total { color: #1e3a5f; }
        .stat-active { color: #22c55e; }
        .stat-caution { color: #f59e0b; }
        .stat-critical { color: #dc2626; }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .equipment-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid rgba(196, 216, 45, 0.3);
        }

        .equipment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .equipment-card.clickable {
            border-color: #c4d82d;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(196, 216, 45, 0.1) 100%);
            box-shadow: 0 4px 25px rgba(196, 216, 45, 0.2);
        }

        .equipment-card.clickable:hover {
            border-color: #d4e834;
            transform: translateY(-4px);
            box-shadow: 0 6px 30px rgba(196, 216, 45, 0.3);
        }

        .card-header {
            padding: 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-bottom: 1px solid #e2e8f0;
            position: relative;
        }

        .equipment-id {
            font-size: 18px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 5px;
        }

        .equipment-type {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 10px;
        }

        .status-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .card-body {
            padding: 20px;
        }

        .hours-display {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .hours-text {
            font-size: 24px;
            font-weight: 700;
        }
        
        .hours-input {
            width: 80px;
            font-size: 18px;
            font-weight: 700;
            border: 2px solid #c4d82d;
            border-radius: 6px;
            padding: 10px 8px;
            text-align: center;
            background: linear-gradient(135deg, #1e3a5f 0%, #2c4a6b 100%);
            color: #c4d82d;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .hours-input:focus {
            outline: none;
            border-color: #a3c020;
            box-shadow: 0 0 0 3px rgba(196, 216, 45, 0.2);
        }
        
        .editable-text {
            border: 1px dashed #c4d82d;
            border-radius: 4px;
            padding: 2px 5px;
            background: white;
            min-width: 50px;
            display: inline-block;
            cursor: text;
        }
        
        .editable-text:focus {
            outline: none;
            border-color: #a3c020;
            border-style: solid;
        }
        
        .edit-btn {
            background: #c4d82d;
            color: #1e3a5f;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            transition: background 0.2s;
        }
        
        .edit-btn:hover {
            background: #d4e834;
        }
        
        .edit-btn.editing {
            background: #22c55e;
            color: white;
        }
        
        .hours-input:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            background: #f1f5f9;
            color: #64748b;
        }
        
        .editable-text.disabled {
            opacity: 0.7;
            cursor: not-allowed;
            border-style: solid;
            border-color: #e2e8f0;
        }

        .hours-percentage {
            font-size: 14px;
            color: #64748b;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .equipment-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .detail-item {
            text-align: center;
            padding: 10px;
            background: #f8fafc;
            border-radius: 6px;
        }

        .detail-label {
            font-size: 11px;
            color: #64748b;
            text-transform: uppercase;
            margin-bottom: 3px;
            letter-spacing: 0.5px;
        }

        .detail-value {
            font-size: 13px;
            font-weight: 600;
            color: #1e293b;
        }

        .coordinates {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 11px;
        }

        .offline-overlay {
            position: relative;
        }

        .offline-overlay::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(107, 114, 128, 0.1);
            border-radius: 12px;
        }

        .action-area {
            padding: 15px 20px;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }

        .view-details-btn {
            background: #c4d82d;
            color: #1e3a5f;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            width: 100%;
        }

        .view-details-btn:hover {
            background: #d4e834;
        }

        .view-details-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .last-seen {
            font-size: 12px;
            color: #64748b;
            text-align: center;
            margin-top: 10px;
        }

        .refresh-info {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            color: #64748b;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(196, 216, 45, 0.3);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <img src="taulab.png" alt="TauLab" class="company-logo">
            <div class="header-text">
                <h1>TauLab Equipment Command Center</h1>
                <p>Monitor equipment status, reduce losses, and maximize profit with effortless tracking</p>
            </div>
        </div>
    </div>

    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-value stat-total">10</div>
            <div class="stat-label">Total Equipment</div>
        </div>
        <div class="stat-item">
            <div class="stat-value stat-active">8</div>
            <div class="stat-label">Active Now</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" style="color: #22c55e;">5</div>
            <div class="stat-label">Good (<75%)</div>
        </div>
        <div class="stat-item">
            <div class="stat-value stat-caution">3</div>
            <div class="stat-label">Maintenance Required (75-100%)</div>
        </div>
        <div class="stat-item">
            <div class="stat-value stat-critical">0</div>
            <div class="stat-label">Critical (100%+)</div>
        </div>
    </div>

    <div class="container">
        <div class="equipment-grid">
            <div class="equipment-card clickable ">
                <div class="card-header">
                    <div class="equipment-id editable-text disabled" contenteditable="false" id="equipment-name-1">Generator 11293651</div>
                    <div class="equipment-type editable-text disabled" contenteditable="false" id="equipment-type-1">United Rentals</div>
                    <div class="status-badge" style="background-color: #22c55e;">
                        Good
                    </div>
                </div>

                <div class="card-body">
                    <!-- Edit Button -->
                    <button class="edit-btn" id="edit-btn-1" onclick="toggleEditMode(1)">✏️ Edit</button>
                    
                    <!-- Hours Input Fields -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 12px; color: #64748b; margin-bottom: 5px; font-weight: 600;">Baseline Hours</div>
                            <input type="number" class="hours-input" id="baseline-hours-1" value="0" min="0" max="999" onchange="updateProgress(1)" disabled>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 12px; color: #64748b; margin-bottom: 5px; font-weight: 600;">Tracked Hours (IoT)</div>
                            <div style="
                                font-size: 18px; 
                                font-weight: 700; 
                                color: #64748b; 
                                padding: 10px 8px;
                                background: #f1f5f9;
                                border: 2px solid #e2e8f0;
                                border-radius: 6px;
                                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                                min-width: 80px;
                                opacity: 0.8;
                            " id="current-hours-1">10</div>
                        </div>
                    </div>
                    
                    <!-- Accumulated Hours Display -->
                    <div class="hours-display">
                        <span class="hours-text" id="hours-display-1">
                            <span id="accumulated-hours-1" style="color: #1e3a5f;">10</span>/<input type="number" class="hours-input" id="target-hours-1" value="100" min="1" max="999" onchange="updateProgress(1)" disabled><span style="color: #1e3a5f;">h</span>
                        </span>
                        <span class="hours-percentage" id="hours-percentage-1">
                            10%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill-1" style="width: 10.0%; background-color: #22c55e;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Active</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value editable-text disabled" contenteditable="false" id="equipment-brand-1">United Rentals</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13234</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51222</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:04
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="window.location.href='details1.html'" >
                        View Timeline
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Compressor 11294782</div>
                    <div class="equipment-type">United Rentals</div>
                    <div class="status-badge" style="background-color: #22c55e;">
                        Good
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #22c55e;">
                            10/100h
                        </span>
                        <span class="hours-percentage">
                            10%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 26.0%; background-color: #22c55e;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Active</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">United Rentals</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13183</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51753</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:29
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card offline-overlay">
                <div class="card-header">
                    <div class="equipment-id">Light Tower 11295433</div>
                    <div class="equipment-type">United Rentals</div>
                    <div class="status-badge" style="background-color: #6b7280;">
                        Offline
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #6b7280;">
                            8/100h
                        </span>
                        <span class="hours-percentage">
                            8%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 8.0%; background-color: #6b7280;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Offline</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">United Rentals</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Location</div>
                        <div class="detail-value">Unknown</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">GPS</div>
                        <div class="detail-value">Offline</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 00:30
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Excavator 11296124</div>
                    <div class="equipment-type">Caterpillar</div>
                    <div class="status-badge" style="background-color: #22c55e;">
                        Good
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #22c55e;">
                            42/100h
                        </span>
                        <span class="hours-percentage">
                            42%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 42.0%; background-color: #22c55e;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Active</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Caterpillar</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13357</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51417</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:29
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Skid Steer 11297856</div>
                    <div class="equipment-type">Bobcat</div>
                    <div class="status-badge" style="background-color: #22c55e;">
                        Good
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #22c55e;">
                            21/100h
                        </span>
                        <span class="hours-percentage">
                            21%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 21.0%; background-color: #22c55e;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Active</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Bobcat</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13305</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51332</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:06
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Forklift 11298567</div>
                    <div class="equipment-type">Toyota</div>
                    <div class="status-badge" style="background-color: #f59e0b;">
                        Maintenance Required
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #f59e0b;">
                            64/100h
                        </span>
                        <span class="hours-percentage">
                            64%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 64.0%; background-color: #f59e0b;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Idle</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Toyota</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13158</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51537</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:15
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card offline-overlay">
                <div class="card-header">
                    <div class="equipment-id">Crane 11299348</div>
                    <div class="equipment-type">Liebherr</div>
                    <div class="status-badge" style="background-color: #6b7280;">
                        Offline
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #6b7280;">
                            29/100h
                        </span>
                        <span class="hours-percentage">
                            29%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 28.999999999999996%; background-color: #6b7280;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Offline</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Liebherr</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Location</div>
                        <div class="detail-value">Unknown</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">GPS</div>
                        <div class="detail-value">Offline</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-15 19:30
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Bulldozer 11300129</div>
                    <div class="equipment-type">Caterpillar</div>
                    <div class="status-badge" style="background-color: #22c55e;">
                        Good
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #22c55e;">
                            42/100h
                        </span>
                        <span class="hours-percentage">
                            42%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 42.0%; background-color: #22c55e;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Idle</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Caterpillar</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.12546</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.50910</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:12
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Dump Truck 11301045</div>
                    <div class="equipment-type">Volvo</div>
                    <div class="status-badge" style="background-color: #f59e0b;">
                        Maintenance Required
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #f59e0b;">
                            73/100h
                        </span>
                        <span class="hours-percentage">
                            73%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 73.0%; background-color: #f59e0b;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Active</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Volvo</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.12262</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.52476</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:14
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
            <div class="equipment-card ">
                <div class="card-header">
                    <div class="equipment-id">Welder 11302678</div>
                    <div class="equipment-type">Lincoln</div>
                    <div class="status-badge" style="background-color: #f59e0b;">
                        Maintenance Required
                    </div>
                </div>

                <div class="card-body">
                    <div class="hours-display">
                        <span class="hours-text" style="color: #f59e0b;">
                            69/100h
                        </span>
                        <span class="hours-percentage">
                            69%
                        </span>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 69.0%; background-color: #f59e0b;"></div>
                    </div>

                    <div class="equipment-details">
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">Motion</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Brand</div>
                            <div class="detail-value">Lincoln</div>
                        </div>
                        
                    <div class="detail-item">
                        <div class="detail-label">Latitude</div>
                        <div class="detail-value coordinates">52.13811</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Longitude</div>
                        <div class="detail-value coordinates">-104.51485</div>
                    </div>
                
                    </div>

                    <div class="last-seen">
                        Last seen: 2025-08-16 13:10
                    </div>
                </div>

                <div class="action-area">
                    <button class="view-details-btn" onclick="" disabled>
                        Coming Soon
                    </button>
                </div>
            </div>
            
        </div>

        <div class="refresh-info">
            <p>Auto-refresh every 5 minutes | Last updated: 2025-08-16 13:30:28</p>
            <p>Click on Generator 11293651 to view detailed location and timeline</p>
        </div>
    </div>

    <script>
        // Auto-refresh page every 5 minutes
        setTimeout(() => {
            window.location.reload();
        }, 300000);

        // Function to toggle edit mode for a card
        function toggleEditMode(cardId) {
            const editBtn = document.getElementById('edit-btn-' + cardId);
            const baselineInput = document.getElementById('baseline-hours-' + cardId);
            const targetInput = document.getElementById('target-hours-' + cardId);
            const equipmentName = document.getElementById('equipment-name-' + cardId);
            const equipmentType = document.getElementById('equipment-type-' + cardId);
            const equipmentBrand = document.getElementById('equipment-brand-' + cardId);
            
            const isEditing = editBtn.classList.contains('editing');
            
            if (isEditing) {
                // Exit edit mode
                editBtn.classList.remove('editing');
                editBtn.innerHTML = '✏️ Edit';
                
                // Disable inputs
                baselineInput.disabled = true;
                targetInput.disabled = true;
                
                // Disable contenteditable fields
                equipmentName.contentEditable = false;
                equipmentType.contentEditable = false;
                equipmentBrand.contentEditable = false;
                
                // Add disabled styling
                equipmentName.classList.add('disabled');
                equipmentType.classList.add('disabled');
                equipmentBrand.classList.add('disabled');
                
                // Save all values to localStorage
                localStorage.setItem('equipment-name-1', equipmentName.textContent);
                localStorage.setItem('equipment-type-1', equipmentType.textContent);
                localStorage.setItem('equipment-brand-1', equipmentBrand.textContent);
                
            } else {
                // Enter edit mode
                editBtn.classList.add('editing');
                editBtn.innerHTML = '💾 Save';
                
                // Enable inputs
                baselineInput.disabled = false;
                targetInput.disabled = false;
                
                // Enable contenteditable fields
                equipmentName.contentEditable = true;
                equipmentType.contentEditable = true;
                equipmentBrand.contentEditable = true;
                
                // Remove disabled styling
                equipmentName.classList.remove('disabled');
                equipmentType.classList.remove('disabled');
                equipmentBrand.classList.remove('disabled');
            }
        }

        // Function to update progress bar and percentage when baseline or target hours change
        function updateProgress(cardId) {
            const baselineInput = document.getElementById('baseline-hours-' + cardId);
            const currentElement = document.getElementById('current-hours-' + cardId);
            const targetInput = document.getElementById('target-hours-' + cardId);
            const accumulatedElement = document.getElementById('accumulated-hours-' + cardId);
            const percentage = document.getElementById('hours-percentage-' + cardId);
            const progressFill = document.getElementById('progress-fill-' + cardId);
            const hoursDisplay = document.getElementById('hours-display-' + cardId);
            
            // Get values
            let baselineHours = parseInt(baselineInput.value) || 0;
            const currentHours = parseInt(currentElement.textContent) || 10; // From IoT data
            let targetHours = parseInt(targetInput.value) || 100;
            
            // Ensure values stay within bounds
            if (baselineHours < 0) baselineHours = 0;
            if (baselineHours > 999) baselineHours = 999;
            baselineInput.value = baselineHours;
            
            if (targetHours < 1) targetHours = 1;
            if (targetHours > 999) targetHours = 999;
            targetInput.value = targetHours;
            
            // Calculate accumulated hours (baseline + current from IoT)
            const accumulatedHours = baselineHours + currentHours;
            
            // Update accumulated hours display
            accumulatedElement.textContent = accumulatedHours;
            
            // Calculate percentage based on accumulated / target
            const percentageValue = Math.round((accumulatedHours / targetHours) * 100);
            
            // Update percentage display
            percentage.textContent = percentageValue + '%';
            
            // Update progress bar width (allow over 100% for critical cases)
            progressFill.style.width = Math.min(percentageValue, 120) + '%';
            
            // Update progress bar color based on utilization
            if (percentageValue > 100) {
                progressFill.style.backgroundColor = '#ef4444'; // Red for Critical (>100%)
                hoursDisplay.style.color = '#ef4444';
            } else if (percentageValue >= 75) {
                progressFill.style.backgroundColor = '#f59e0b'; // Orange for Maintenance Required (75-100%)
                hoursDisplay.style.color = '#f59e0b';
            } else {
                progressFill.style.backgroundColor = '#22c55e'; // Green for Good (<75%)
                hoursDisplay.style.color = '#22c55e';
            }
            
            // Save to localStorage for persistence
            localStorage.setItem('equipment-baseline-hours-' + cardId, baselineHours);
            localStorage.setItem('equipment-target-hours-' + cardId, targetHours);
        }
        
        // Load saved values on page load
        window.addEventListener('DOMContentLoaded', function() {
            // Load saved baseline hours
            const savedBaseline = localStorage.getItem('equipment-baseline-hours-1');
            if (savedBaseline !== null) {
                document.getElementById('baseline-hours-1').value = savedBaseline;
            }
            
            // Load saved target hours
            const savedTarget = localStorage.getItem('equipment-target-hours-1');
            if (savedTarget !== null) {
                document.getElementById('target-hours-1').value = savedTarget;
            }
            
            // Always update progress on load to reflect current values
            updateProgress(1);
            
            // Load saved equipment name
            const savedName = localStorage.getItem('equipment-name-1');
            if (savedName !== null) {
                document.getElementById('equipment-name-1').textContent = savedName;
            }
            
            // Load saved equipment type
            const savedType = localStorage.getItem('equipment-type-1');
            if (savedType !== null) {
                document.getElementById('equipment-type-1').textContent = savedType;
            }
            
            // Load saved brand
            const savedBrand = localStorage.getItem('equipment-brand-1');
            if (savedBrand !== null) {
                document.getElementById('equipment-brand-1').textContent = savedBrand;
            }
            
            // Note: Edit mode controls when fields can be edited
            // Saving happens when exiting edit mode via the toggleEditMode function
        });
        
        // Remove the old click handler since we now have a button
        // Cards are no longer clickable as a whole
    </script>
<!-- Updated: 2025-08-16 19:16:14 -->
</body>
</html>